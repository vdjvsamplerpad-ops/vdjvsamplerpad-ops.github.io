{"version":3,"file":"VolumeMixer-CZpOfm8j.js","sources":["../../../src/components/sampler/VolumeMixer.tsx"],"sourcesContent":["import * as React from 'react';\nimport { Button } from '@/components/ui/button';\nimport { Slider } from '@/components/ui/slider';\nimport { Label } from '@/components/ui/label';\nimport {\n  ChevronDown,\n  ChevronUp,\n  Loader2,\n  Pause,\n  Play,\n  Save,\n  SlidersHorizontal as Equalizer,\n  Square,\n  Trash2,\n  Volume2,\n  Waves,\n  X\n} from 'lucide-react';\nimport { ChannelDeckState, PlayingPadInfo, SamplerBank, StopMode } from './types/sampler';\n\ninterface EqSettings {\n  low: number;\n  mid: number;\n  high: number;\n}\n\ninterface VolumeMixerProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  channelStates: ChannelDeckState[];\n  channelCount: number;\n  legacyPlayingPads: PlayingPadInfo[];\n  banks: SamplerBank[];\n  masterVolume: number;\n  onMasterVolumeChange: (volume: number) => void;\n  onPadVolumeChange: (padId: string, volume: number) => void;\n  onStopPad: (padId: string) => void;\n  onChannelVolumeChange: (channelId: number, volume: number) => void;\n  onStopChannel: (channelId: number) => void;\n  onPlayChannel: (channelId: number) => void;\n  onPauseChannel: (channelId: number) => void;\n  onSeekChannel: (channelId: number, ms: number) => void;\n  onUnloadChannel: (channelId: number) => void;\n  onLoadPadToChannel: (channelId: number, bankId: string, padId: string) => Promise<boolean> | boolean;\n  onSetChannelHotcue: (channelId: number, slotIndex: number, ms: number | null) => void;\n  onTriggerChannelHotcue: (channelId: number, slotIndex: number) => void;\n  onSaveChannelHotcuesToPad: (channelId: number) => void;\n  onSetChannelCollapsed: (channelId: number, collapsed: boolean) => void;\n  stopMode: StopMode;\n  editMode: boolean;\n  eqSettings: EqSettings;\n  onEqChange: (settings: EqSettings) => void;\n  mixerEqCollapsed: boolean;\n  onMixerEqCollapsedChange: (collapsed: boolean) => void;\n  theme: 'light' | 'dark';\n  windowWidth: number;\n}\n\ntype LoadDraft = {\n  bankId: string;\n  padId: string;\n};\n\nconst HOTCUE_SLOTS = [0, 1, 2, 3] as const;\n\nconst formatMs = (ms: number) => {\n  const total = Math.max(0, Math.floor(ms / 1000));\n  const minutes = Math.floor(total / 60).toString().padStart(2, '0');\n  const seconds = (total % 60).toString().padStart(2, '0');\n  return `${minutes}:${seconds}`;\n};\n\nconst clamp = (value: number, min: number, max: number) => Math.max(min, Math.min(max, value));\n\nconst createFallbackState = (channelId: number): ChannelDeckState => ({\n  channelId,\n  loadedPadRef: null,\n  isPlaying: false,\n  isPaused: false,\n  playheadMs: 0,\n  durationMs: 0,\n  channelVolume: 1,\n  hotcuesMs: [null, null, null, null],\n  hasLocalHotcueOverride: false,\n  collapsed: false,\n  waveformKey: null,\n  pad: null\n});\n\nexport function VolumeMixer({\n  open,\n  onOpenChange,\n  channelStates,\n  channelCount,\n  legacyPlayingPads,\n  banks,\n  masterVolume,\n  onMasterVolumeChange,\n  onPadVolumeChange,\n  onStopPad,\n  onChannelVolumeChange,\n  onStopChannel,\n  onPlayChannel,\n  onPauseChannel,\n  onSeekChannel,\n  onUnloadChannel,\n  onLoadPadToChannel,\n  onSetChannelHotcue,\n  onTriggerChannelHotcue,\n  onSaveChannelHotcuesToPad,\n  onSetChannelCollapsed,\n  stopMode,\n  editMode,\n  eqSettings,\n  onEqChange,\n  mixerEqCollapsed,\n  onMixerEqCollapsedChange,\n  theme,\n  windowWidth\n}: VolumeMixerProps) {\n  const [loadDrafts, setLoadDrafts] = React.useState<Record<number, LoadDraft>>({});\n  const [loadingChannels, setLoadingChannels] = React.useState<Record<number, boolean>>({});\n\n  const isMobile = windowWidth < 768;\n\n  const channelStateMap = React.useMemo(() => {\n    const map = new Map<number, ChannelDeckState>();\n    channelStates.forEach((channel) => map.set(channel.channelId, channel));\n    return map;\n  }, [channelStates]);\n\n  const visibleChannels = React.useMemo(() => {\n    const items: ChannelDeckState[] = [];\n    for (let i = 1; i <= channelCount; i += 1) {\n      items.push(channelStateMap.get(i) || createFallbackState(i));\n    }\n    return items;\n  }, [channelCount, channelStateMap]);\n\n  const bankById = React.useMemo(() => {\n    const map = new Map<string, SamplerBank>();\n    banks.forEach((bank) => map.set(bank.id, bank));\n    return map;\n  }, [banks]);\n\n  React.useEffect(() => {\n    setLoadDrafts((prev) => {\n      const next = { ...prev };\n      visibleChannels.forEach((channel) => {\n        const existing = next[channel.channelId];\n        if (existing?.bankId && existing?.padId) return;\n\n        if (channel.loadedPadRef?.bankId && channel.loadedPadRef?.padId) {\n          next[channel.channelId] = {\n            bankId: channel.loadedPadRef.bankId,\n            padId: channel.loadedPadRef.padId\n          };\n          return;\n        }\n\n        const firstBankWithPads = banks.find((bank) => bank.pads.length > 0);\n        if (!firstBankWithPads) {\n          next[channel.channelId] = { bankId: '', padId: '' };\n          return;\n        }\n\n        next[channel.channelId] = {\n          bankId: firstBankWithPads.id,\n          padId: firstBankWithPads.pads[0]?.id || ''\n        };\n      });\n      return next;\n    });\n  }, [banks, visibleChannels]);\n\n  const handleBankDraftChange = React.useCallback((channelId: number, bankId: string) => {\n    setLoadDrafts((prev) => {\n      const selectedBank = bankById.get(bankId);\n      return {\n        ...prev,\n        [channelId]: {\n          bankId,\n          padId: selectedBank?.pads[0]?.id || ''\n        }\n      };\n    });\n  }, [bankById]);\n\n  const handlePadDraftChange = React.useCallback((channelId: number, padId: string) => {\n    setLoadDrafts((prev) => ({\n      ...prev,\n      [channelId]: {\n        bankId: prev[channelId]?.bankId || '',\n        padId\n      }\n    }));\n  }, []);\n\n  const handleLoadToChannel = React.useCallback(async (channelId: number) => {\n    const draft = loadDrafts[channelId];\n    if (!draft?.bankId || !draft?.padId) return;\n\n    setLoadingChannels((prev) => ({ ...prev, [channelId]: true }));\n    try {\n      await onLoadPadToChannel(channelId, draft.bankId, draft.padId);\n    } finally {\n      setLoadingChannels((prev) => ({ ...prev, [channelId]: false }));\n    }\n  }, [loadDrafts, onLoadPadToChannel]);\n\n  const handleWaveformSeek = React.useCallback((event: React.MouseEvent<HTMLDivElement>, channel: ChannelDeckState) => {\n    const duration = Math.max(1, channel.pad?.endMs || channel.durationMs || 0);\n    if (duration <= 1) return;\n    const rect = event.currentTarget.getBoundingClientRect();\n    const x = clamp(event.clientX - rect.left, 0, rect.width);\n    const ratio = rect.width > 0 ? x / rect.width : 0;\n    onSeekChannel(channel.channelId, ratio * duration);\n  }, [onSeekChannel]);\n\n  const handleHotcuePress = React.useCallback((channel: ChannelDeckState, slotIndex: number) => {\n    if (editMode) {\n      const existing = channel.hotcuesMs[slotIndex];\n      if (typeof existing === 'number') {\n        onSetChannelHotcue(channel.channelId, slotIndex, null);\n      } else {\n        onSetChannelHotcue(channel.channelId, slotIndex, Math.max(0, channel.playheadMs || 0));\n      }\n      return;\n    }\n\n    onTriggerChannelHotcue(channel.channelId, slotIndex);\n  }, [editMode, onSetChannelHotcue, onTriggerChannelHotcue]);\n\n  const panelClasses = theme === 'dark'\n    ? 'bg-gray-800 border-gray-700 text-white'\n    : 'bg-white border-gray-200 text-gray-900';\n\n  const sectionClasses = theme === 'dark'\n    ? 'bg-gray-900/70 border-gray-700'\n    : 'bg-gray-50 border-gray-200';\n\n  return (\n    <div className={`fixed inset-y-0 right-0 z-50 w-[28rem] max-w-[95vw] border-l shadow-2xl transition-transform duration-300 ${panelClasses} ${open ? 'translate-x-0' : 'translate-x-full'}`}>\n      <div className={`flex items-center justify-between px-4 py-3 border-b ${theme === 'dark' ? 'border-gray-700' : 'border-gray-200'}`}>\n        <div>\n          <h2 className=\"text-sm font-semibold\">Mixer Engine V2</h2>\n          <p className={`text-[11px] ${theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}`}>\n            {channelCount} loadable channels, stop mode: {stopMode}\n          </p>\n        </div>\n        <Button\n          variant=\"outline\"\n          size=\"icon\"\n          onClick={() => onOpenChange(false)}\n          className={theme === 'dark'\n            ? 'h-8 w-8 border-red-500/60 bg-red-900/30 text-red-300 hover:bg-red-800/60'\n            : 'h-8 w-8 border-red-300 bg-red-50 text-red-600 hover:bg-red-100'}\n          title=\"Close Mixer\"\n        >\n          <X className=\"h-4 w-4\" />\n        </Button>\n      </div>\n\n      <div className=\"h-[calc(100vh-64px)] overflow-y-auto p-3 space-y-3\">\n        {editMode && (\n          <div className={`rounded-md border px-3 py-2 text-xs font-semibold tracking-wide ${theme === 'dark' ? 'border-amber-500 bg-amber-600/20 text-amber-200' : 'border-amber-400 bg-amber-50 text-amber-800'}`}>\n            HOTCUE SET MODE ACTIVE\n            <div className={`mt-1 text-[11px] font-normal ${theme === 'dark' ? 'text-amber-100/90' : 'text-amber-700'}`}>\n              Tap hotcue buttons to set/clear cues. Jump is disabled while Edit Mode is active.\n            </div>\n          </div>\n        )}\n\n        <section className={`rounded-lg border p-3 ${sectionClasses}`}>\n          <div className=\"flex items-center justify-between gap-2 mb-2\">\n            <Label className=\"text-xs font-semibold flex items-center gap-2\">\n              <Volume2 className=\"h-4 w-4\" /> Master and EQ\n            </Label>\n            <Button\n              type=\"button\"\n              variant=\"outline\"\n              size=\"sm\"\n              className=\"h-7 px-2\"\n              onClick={() => onMixerEqCollapsedChange(!mixerEqCollapsed)}\n            >\n              {mixerEqCollapsed ? <ChevronDown className=\"h-4 w-4\" /> : <ChevronUp className=\"h-4 w-4\" />}\n            </Button>\n          </div>\n\n          {!mixerEqCollapsed && (\n            <div className=\"space-y-3\">\n              <div className=\"space-y-1\">\n                <div className=\"text-[11px] text-gray-500 dark:text-gray-400\">Master Volume {Math.round(masterVolume * 100)}%</div>\n                <Slider\n                  value={[masterVolume * 100]}\n                  onValueChange={([value]) => onMasterVolumeChange(value / 100)}\n                  min={0}\n                  max={100}\n                  step={1}\n                />\n              </div>\n              <div className=\"space-y-1\">\n                <div className=\"text-[11px] text-gray-500 dark:text-gray-400\">High {eqSettings.high > 0 ? '+' : ''}{eqSettings.high}dB</div>\n                <Slider\n                  value={[eqSettings.high]}\n                  onValueChange={([value]) => onEqChange({ ...eqSettings, high: value })}\n                  min={-12}\n                  max={12}\n                  step={1}\n                />\n              </div>\n              <div className=\"space-y-1\">\n                <div className=\"text-[11px] text-gray-500 dark:text-gray-400\">Mid {eqSettings.mid > 0 ? '+' : ''}{eqSettings.mid}dB</div>\n                <Slider\n                  value={[eqSettings.mid]}\n                  onValueChange={([value]) => onEqChange({ ...eqSettings, mid: value })}\n                  min={-12}\n                  max={12}\n                  step={1}\n                />\n              </div>\n              <div className=\"space-y-1\">\n                <div className=\"text-[11px] text-gray-500 dark:text-gray-400\">Low {eqSettings.low > 0 ? '+' : ''}{eqSettings.low}dB</div>\n                <Slider\n                  value={[eqSettings.low]}\n                  onValueChange={([value]) => onEqChange({ ...eqSettings, low: value })}\n                  min={-12}\n                  max={12}\n                  step={1}\n                />\n              </div>\n            </div>\n          )}\n        </section>\n\n        <section className={`rounded-lg border p-3 ${sectionClasses}`}>\n          <Label className=\"text-xs font-semibold flex items-center gap-2 mb-2\">\n            <Equalizer className=\"h-4 w-4\" />\n            Channel Decks\n          </Label>\n          <div className=\"space-y-2\">\n            {visibleChannels.map((channel) => {\n              const loaded = Boolean(channel.pad && channel.loadedPadRef);\n              const duration = Math.max(1, channel.pad?.endMs || channel.durationMs || 0);\n              const playhead = clamp(channel.playheadMs || 0, 0, duration);\n              const progressPct = duration > 0 ? (playhead / duration) * 100 : 0;\n              const draft = loadDrafts[channel.channelId] || { bankId: '', padId: '' };\n              const draftBank = bankById.get(draft.bankId);\n              const isLoading = Boolean(loadingChannels[channel.channelId]);\n\n              return (\n                <div key={channel.channelId} className={`rounded-md border p-2 ${theme === 'dark' ? 'border-gray-700 bg-gray-950/40' : 'border-gray-200 bg-white'}`}>\n                  <div className=\"flex items-center gap-2 mb-2\">\n                    <div className={`text-[11px] font-semibold ${theme === 'dark' ? 'text-gray-200' : 'text-gray-700'}`}>CH {channel.channelId}</div>\n                    <div className=\"min-w-0 flex-1 text-xs truncate\">\n                      {channel.pad ? `${channel.pad.padName} (${channel.pad.bankName})` : 'No sampler loaded'}\n                    </div>\n                    <Button\n                      type=\"button\"\n                      variant=\"outline\"\n                      size=\"icon\"\n                      className=\"h-7 w-7\"\n                      onClick={() => onSetChannelCollapsed(channel.channelId, !channel.collapsed)}\n                      title={channel.collapsed ? 'Expand channel' : 'Collapse channel'}\n                    >\n                      {channel.collapsed ? <ChevronDown className=\"h-4 w-4\" /> : <ChevronUp className=\"h-4 w-4\" />}\n                    </Button>\n                  </div>\n\n                  <div className=\"grid grid-cols-[1fr,1fr,auto] gap-2 mb-2\">\n                    <select\n                      value={draft.bankId}\n                      onChange={(event) => handleBankDraftChange(channel.channelId, event.target.value)}\n                      className={`h-8 rounded border px-2 text-xs ${theme === 'dark' ? 'bg-gray-900 border-gray-700 text-gray-100' : 'bg-white border-gray-300 text-gray-900'}`}\n                    >\n                      {banks.length === 0 && <option value=\"\">No banks</option>}\n                      {banks.map((bank) => (\n                        <option key={`${channel.channelId}-${bank.id}`} value={bank.id}>{bank.name}</option>\n                      ))}\n                    </select>\n                    <select\n                      value={draft.padId}\n                      onChange={(event) => handlePadDraftChange(channel.channelId, event.target.value)}\n                      className={`h-8 rounded border px-2 text-xs ${theme === 'dark' ? 'bg-gray-900 border-gray-700 text-gray-100' : 'bg-white border-gray-300 text-gray-900'}`}\n                      disabled={!draftBank || draftBank.pads.length === 0}\n                    >\n                      {!draftBank && <option value=\"\">Select bank</option>}\n                      {draftBank && draftBank.pads.length === 0 && <option value=\"\">No pads</option>}\n                      {draftBank?.pads.map((pad) => (\n                        <option key={`${channel.channelId}-${pad.id}`} value={pad.id}>{pad.name}</option>\n                      ))}\n                    </select>\n                    <Button\n                      type=\"button\"\n                      variant=\"outline\"\n                      size=\"sm\"\n                      className=\"h-8 px-2\"\n                      onClick={() => void handleLoadToChannel(channel.channelId)}\n                      disabled={isLoading || !draft.bankId || !draft.padId}\n                    >\n                      {isLoading ? <Loader2 className=\"h-4 w-4 animate-spin\" /> : 'Load'}\n                    </Button>\n                  </div>\n\n                  <div className=\"flex items-center gap-1 mb-2\">\n                    <Button\n                      type=\"button\"\n                      variant=\"outline\"\n                      size=\"icon\"\n                      className=\"h-7 w-7\"\n                      onClick={() => (channel.isPlaying ? onPauseChannel(channel.channelId) : onPlayChannel(channel.channelId))}\n                      disabled={!loaded}\n                      title={channel.isPlaying ? 'Pause' : 'Play'}\n                    >\n                      {channel.isPlaying ? <Pause className=\"h-4 w-4\" /> : <Play className=\"h-4 w-4\" />}\n                    </Button>\n                    <Button\n                      type=\"button\"\n                      variant=\"outline\"\n                      size=\"icon\"\n                      className=\"h-7 w-7\"\n                      onClick={() => onStopChannel(channel.channelId)}\n                      disabled={!loaded}\n                      title=\"Stop\"\n                    >\n                      <Square className=\"h-4 w-4\" />\n                    </Button>\n                    <Button\n                      type=\"button\"\n                      variant=\"outline\"\n                      size=\"icon\"\n                      className=\"h-7 w-7\"\n                      onClick={() => onUnloadChannel(channel.channelId)}\n                      disabled={!loaded}\n                      title=\"Unload\"\n                    >\n                      <Trash2 className=\"h-4 w-4\" />\n                    </Button>\n                    <div className=\"min-w-0 flex-1 text-[11px] text-right text-gray-500 dark:text-gray-400\">\n                      {formatMs(playhead)} / {formatMs(duration)}\n                    </div>\n                  </div>\n\n                  <div\n                    className={`relative h-10 rounded border cursor-pointer overflow-hidden mb-2 ${theme === 'dark' ? 'border-gray-700 bg-gray-900' : 'border-gray-300 bg-gray-100'}`}\n                    onClick={(event) => handleWaveformSeek(event, channel)}\n                    title={loaded ? 'Seek using waveform' : 'Load a sampler first'}\n                  >\n                    <div className={`absolute inset-0 ${theme === 'dark' ? 'bg-gradient-to-r from-blue-900/40 to-cyan-700/40' : 'bg-gradient-to-r from-blue-200 to-cyan-100'}`} />\n                    <div\n                      className={`absolute inset-y-0 left-0 ${theme === 'dark' ? 'bg-cyan-300/30' : 'bg-cyan-400/30'}`}\n                      style={{ width: `${progressPct}%` }}\n                    />\n                    <div\n                      className={`absolute inset-y-0 w-[2px] ${theme === 'dark' ? 'bg-cyan-300' : 'bg-cyan-600'}`}\n                      style={{ left: `${progressPct}%` }}\n                    />\n                  </div>\n\n                  <div className=\"space-y-2\">\n                    {!channel.collapsed && (\n                      <>\n                        <div className=\"grid grid-cols-4 gap-1\">\n                          {HOTCUE_SLOTS.map((slotIndex) => {\n                            const cue = channel.hotcuesMs[slotIndex];\n                            const hasCue = typeof cue === 'number';\n                            return (\n                              <Button\n                                key={`${channel.channelId}-hotcue-${slotIndex}`}\n                                type=\"button\"\n                                variant=\"outline\"\n                                size=\"sm\"\n                                className={`h-8 px-0 text-[11px] ${editMode\n                                  ? hasCue\n                                    ? 'border-amber-500 bg-amber-500/30 text-amber-100'\n                                    : 'border-amber-400/70 text-amber-300'\n                                  : hasCue\n                                    ? 'border-cyan-400/80 text-cyan-400'\n                                    : ''}`}\n                                onClick={() => handleHotcuePress(channel, slotIndex)}\n                                disabled={!loaded}\n                                title={editMode\n                                  ? (hasCue ? 'Tap to clear cue' : 'Tap to set cue at current playhead')\n                                  : (hasCue ? `Jump to ${formatMs(cue || 0)}` : 'No cue set')}\n                              >\n                                {hasCue ? `C${slotIndex + 1}` : `-`}\n                              </Button>\n                            );\n                          })}\n                        </div>\n\n                        <div className=\"text-[10px] text-gray-500 dark:text-gray-400\">\n                          {editMode ? 'Tap to SET/CLEAR cue.' : 'Tap to JUMP to cue.'}\n                        </div>\n\n                        {editMode && loaded && channel.hasLocalHotcueOverride && (\n                          <Button\n                            type=\"button\"\n                            variant=\"outline\"\n                            size=\"sm\"\n                            className=\"h-8 w-full text-[11px]\"\n                            onClick={() => onSaveChannelHotcuesToPad(channel.channelId)}\n                          >\n                            <Save className=\"mr-1 h-3.5 w-3.5\" /> Save Channel Cues to Pad\n                          </Button>\n                        )}\n                      </>\n                    )}\n\n                    <div className=\"space-y-1\">\n                      <div className=\"flex justify-between text-[10px] text-gray-500 dark:text-gray-400\">\n                        <span>Channel Volume</span>\n                        <span>{Math.round(channel.channelVolume * 100)}%</span>\n                      </div>\n                      <Slider\n                        value={[channel.channelVolume * 100]}\n                        min={0}\n                        max={100}\n                        step={1}\n                        onValueChange={([value]) => onChannelVolumeChange(channel.channelId, value / 100)}\n                      />\n                    </div>\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n        </section>\n\n        <section className={`rounded-lg border p-3 ${sectionClasses}`}>\n          <Label className=\"text-xs font-semibold flex items-center gap-2 mb-2\">\n            <Waves className=\"h-4 w-4\" /> Current Playing Sampler\n          </Label>\n          <div className=\"space-y-2 max-h-56 overflow-y-auto\">\n            {legacyPlayingPads.length === 0 && (\n              <div className=\"text-xs text-gray-500 dark:text-gray-400\">No pad-grid playback running.</div>\n            )}\n            {legacyPlayingPads.map((pad) => {\n              const duration = Math.max(1, pad.endMs || 0);\n              const progress = clamp(pad.currentMs || 0, 0, duration);\n              return (\n                <div key={pad.padId} className={`rounded-md border p-2 ${theme === 'dark' ? 'border-gray-700 bg-gray-950/40' : 'border-gray-200 bg-white'}`}>\n                  <div className=\"flex items-center gap-2\">\n                    <div className=\"min-w-0 flex-1\">\n                      <div className=\"text-xs font-medium truncate\">{pad.padName}</div>\n                      <div className=\"text-[10px] text-gray-500 dark:text-gray-400 truncate\">{pad.bankName}</div>\n                    </div>\n                    <Button\n                      type=\"button\"\n                      variant=\"outline\"\n                      size=\"icon\"\n                      className=\"h-7 w-7\"\n                      onClick={() => onStopPad(pad.padId)}\n                      title=\"Stop pad\"\n                    >\n                      <Square className=\"h-4 w-4\" />\n                    </Button>\n                  </div>\n                  {!isMobile && (\n                    <div className=\"mt-2 space-y-1\">\n                      <div className=\"flex justify-between text-[10px] text-gray-500 dark:text-gray-400\">\n                        <span>{formatMs(progress)} / {formatMs(duration)}</span>\n                        <span>{Math.round((pad.effectiveVolume ?? pad.volume) * 100)}%</span>\n                      </div>\n                      <Slider\n                        value={[pad.volume * 100]}\n                        min={0}\n                        max={100}\n                        step={1}\n                        onValueChange={([value]) => onPadVolumeChange(pad.padId, value / 100)}\n                      />\n                    </div>\n                  )}\n                </div>\n              );\n            })}\n          </div>\n        </section>\n      </div>\n    </div>\n  );\n}\r\n"],"names":["HOTCUE_SLOTS","formatMs","ms","total","Math","max","floor","toString","padStart","clamp","value","min","createFallbackState","channelId","loadedPadRef","isPlaying","isPaused","playheadMs","durationMs","channelVolume","hotcuesMs","hasLocalHotcueOverride","collapsed","waveformKey","pad","VolumeMixer","open","onOpenChange","channelStates","channelCount","legacyPlayingPads","banks","masterVolume","onMasterVolumeChange","onPadVolumeChange","onStopPad","onChannelVolumeChange","onStopChannel","onPlayChannel","onPauseChannel","onSeekChannel","onUnloadChannel","onLoadPadToChannel","onSetChannelHotcue","onTriggerChannelHotcue","onSaveChannelHotcuesToPad","onSetChannelCollapsed","stopMode","editMode","eqSettings","onEqChange","mixerEqCollapsed","onMixerEqCollapsedChange","theme","windowWidth","loadDrafts","setLoadDrafts","React.useState","loadingChannels","setLoadingChannels","isMobile","channelStateMap","React.useMemo","map","Map","forEach","channel","set","visibleChannels","items","i","push","get","bankById","bank","id","React.useEffect","prev","next","existing","bankId","padId","_a","_b","firstBankWithPads","find","pads","length","_c","handleBankDraftChange","React.useCallback","selectedBank","handlePadDraftChange","handleLoadToChannel","async","draft","handleWaveformSeek","event","duration","endMs","rect","currentTarget","getBoundingClientRect","x","clientX","left","width","ratio","handleHotcuePress","slotIndex","panelClasses","sectionClasses","jsxRuntimeExports","jsxs","className","children","jsx","Button","variant","size","onClick","title","X","Label","Volume2","type","ChevronDown","ChevronUp","round","Slider","onValueChange","step","high","mid","low","Equalizer","loaded","Boolean","playhead","progressPct","draftBank","isLoading","padName","bankName","onChange","target","name","disabled","Loader2","Pause","Play","Square","Trash2","style","Fragment","cue","hasCue","Save","Waves","progress","currentMs","effectiveVolume","volume"],"mappings":"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"}