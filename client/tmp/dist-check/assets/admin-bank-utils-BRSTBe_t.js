import{s as e,h as r}from"./index-CH2onsZE.js";import"./ui-vendor-DQigaf8h.js";import"./react-vendor-ClOJDe5F.js";import"./supabase-vendor-BjTeASSi.js";import"./utils-vendor-Dm3UHTo7.js";async function t(t,o,i,n){try{let s=null,a=null;{const r=await e.from("banks").insert({title:t,description:o,created_by:i,...n?{color:n}:{}}).select("*").single();if(s=r.data,a=r.error,a&&n&&/column .*color/i.test(a.message||"")){const r=await e.from("banks").insert({title:t,description:o,created_by:i}).select("*").single();s=r.data,a=r.error}}if(a||!s)return console.error("[BANK][EXPORT] Insert failed",a),null;const l=s.id,d=await r(l),{data:c,error:u}=await e.from("banks").update({derived_key:d}).eq("id",l).select("*").single();return u||!c?(console.error("[BANK][EXPORT] Update derived_key failed",u),null):c}catch(s){return console.error("Error creating admin bank with derived key:",s),null}}export{t as createAdminBankWithDerivedKey};
//# sourceMappingURL=admin-bank-utils-BRSTBe_t.js.map
